var vZeroPayPalButton=Class.create();vZeroPayPalButton.prototype={initialize:function(t,n,e,i,o){this.clientToken=t,this.storeFrontName=n,this.singleUse=e,this.locale=i,this.amount=0,this.currency=!1,this.client=!1},getClient:function(t){this.client!==!1?"function"==typeof t&&t(this.client):braintree.client.create({authorization:this.clientToken},function(n,e){return n?void console.log(n):(this.client=e,void t(this.client))}.bind(this))},setPricing:function(t,n){this.amount=parseFloat(t),this.currency=n},rebuildButton:function(){return!1},addPayPalButton:function(t,n,e,i){var o;if(n=n||$("braintree-paypal-button").innerHTML,e=e||"#paypal-container",i=i||!1,o="string"==typeof e?$$(e).first():e,!o)return console.warn("Unable to locate container "+e+" for PayPal button."),!1;if(i?o.insert(n):o.update(n),!o.select(">button").length)return console.warn("Unable to find valid <button /> element within container."),!1;var a=o.select(">button").first();a.addClassName("braintree-paypal-loading"),a.setAttribute("disabled","disabled"),this.attachPayPalButtonEvent(a,t)},attachPayPalButtonEvent:function(t,n){this.getClient(function(e){braintree.paypal.create({client:e},function(e,i){return e?void console.error("Error creating PayPal:",e):("function"==typeof n.onReady&&n.onReady(i),this._attachPayPalButtonEvent(t,i,n))}.bind(this))}.bind(this))},_attachPayPalButtonEvent:function(t,n,e){t&&n&&(Array.isArray(t)||(t=[t]),t.each(function(t){t.removeClassName("braintree-paypal-loading"),t.removeAttribute("disabled"),Event.stopObserving(t,"click"),Event.observe(t,"click",function(t){return Event.stop(t),"function"!=typeof e.validate?this._tokenizePayPal(n,e):e.validate()?this._tokenizePayPal(n,e):void 0}.bind(this))}.bind(this)))},_tokenizePayPal:function(t,n){var e=this._buildOptions();"object"==typeof n.tokenizeRequest&&(e=Object.extend(e,n.tokenizeRequest)),t.tokenize(e,function(t,e){return t?void("CUSTOMER"!==t.type&&console.error("Error tokenizing:",t)):void("function"==typeof n.onSuccess&&n.onSuccess(e))}.bind(this))},_buildOptions:function(){var t={displayName:this.storeFrontName,amount:this.amount,currency:this.currency,useraction:"commit"};return this.locale&&(t.locale=this.locale),this.singleUse===!0?t.flow="checkout":t.flow="vault",t}};