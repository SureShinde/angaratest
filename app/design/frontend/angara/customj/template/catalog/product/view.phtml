<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */

/**
 * Product view template
 *
 * @see Mage_Catalog_Block_Product_View
 * @see Mage_Review_Block_Product_View 
 */
?>
<?php
  $cumbs= $this->getLayout()->getBlock('breadcrumbs'); $cumbs=$cumbs->_crumbs; $count_cumbs =  count($cumbs);
  if($cumbs && is_array($cumbs)) {
  $i=1;$tracCategory;
   foreach($cumbs as $_crumbName=>$_crumbInfo){
	  if($_crumbInfo['link']){
		if($i!=$count_cumbs-1){$i = $i+1; } else {$tracCategory= $_crumbInfo['label'] ; $i = $i+1;}
	  }
   }
  } 
?>
<?php $_helper = $this->helper('catalog/output'); ?>
<?php $_product = $this->getProduct(); ?>
<script type="text/javascript">
    var optionsPrice = new Product.OptionsPrice(<?php echo $this->getJsonConfig() ?>);
	if(optionsPrice.priceFormat) {
		var currencySign = optionsPrice.priceFormat.pattern;
		currencySign = currencySign.substring(0, currencySign.indexOf('%'));
	}
</script>
<style type="text/css">
.simple-shadow-box {
	position:absolute;
	z-index:9001;
	display:none;
	background:#000000;
	top:0
}
#email-share-box {
	position:absolute;
	z-index:9005;
	display:none;
	top:100px
}
#close_1 {
	text-decoration:none;
	color:#999
}
#close_1:hover {
	text-decoration:underline
}
.chaintxt {
	width:350px;
	font:11px Arial, Helvetica, sans-serif;
	text-align:center;
	position:absolute;
	bottom:5px;
	left:0;
	z-index:99;
}
.freeringsizer {
	display:block;
	font:11px Arial, Helvetica, sans-serif;
	text-align:right;
	padding:0 9px 8px 0;
}
.freeringsizer a {
	text-decoration:underline;
	color:#000;
}
#ui-datepicker-div {
	z-index:1000001 !important
}
/*Start Request Shipping Label by Pankaj regarding bug id:774*/
.ui-dialog .ui-dialog-content{
	padding:0px;
	padding-top:3px;	
}
/*End Request Shipping Label by Pankaj regarding bug id:774*/
</style>
<!--Start Request Shipping Label by Pankaj regarding bug id:774-->
<script type="text/javascript">
	jQuery(function(){
		
		jQuery("#requestlabel-dialog").dialog({
			autoOpen: false,
			show: "blind",
			hide: "explode",			
			width:450,
			zIndex:11000,
			resizable:false,
   			draggable:false,
			minHeight:390
		});
		 
		jQuery("#returnshipping-dialog-opener").click(function() {
			jQuery('#resultsuccess').hide();
			jQuery('#formrequestlabel').each (function(){  
				this.reset();
			});
            jQuery('#formrequestlabel').show();
			jQuery("#requestlabel-dialog").dialog("open");
			if(jQuery("#requestlabel-dialog").data('loaded')!== 'true'){
				jQuery("#requestlabel-dialog").load('/popup/index/openreturnshippinglabel',function(){					
					dataForm = new VarienForm('formrequestlabel', true);
					dataForm.validator.options.onFormValidate = function (result, form){}
					jQuery('#formrequestlabel').submit(function(){
						return submitReturnShippingLabel();
					});
				}); 
				jQuery("#requestlabel-dialog").data('loaded','true'); 
			}
			return false;
		 });
	});
	
	function submitReturnShippingLabel(){
		if(dataForm.validator.validate()===true){
			jQuery('#LoadingImage').show();
			jQuery.post('/popup/index/requestreturnshippinglabel',jQuery('#formrequestlabel').serialize(),function(res){	
				jQuery('#LoadingImage').hide();			
				jQuery('#resultsuccess').html(res);
				jQuery('#formrequestlabel').hide();
                jQuery('#resultsuccess').show();
			})
			setTimeout(function(){
				  jQuery('#requestlabel-dialog').dialog('close');                
			}, 5000);
            return false;
		}
		return false;
	}	
</script>
<!--End Request Shipping Label by Pankaj regarding bug id:774-->
<script type="text/javascript">
	jQuery(function(){
		jQuery('#your_message').keypress(function(e){
			var limit = 2500;
			var remainingChars = limit - jQuery(this).val().length;
			jQuery('#msgCharsLeft').html('<font size="1" face="Verdana" color="#555555"><span>'+remainingChars+' characters remaining</span></font>')
			if(remainingChars < 1){
				e.preventDefault();
				jQuery(this).val(jQuery(this).val().slice(0,limit)).focus();
			}
		})
		
				
		
		
		
		jQuery('.stonesizeround').click(function(){	
			jQuery('.popupboxnew').hide().html('');
			jQuery('#roundstonepopup').show();
			//if(jQuery('#roundstonepopup').data('loaded')!='yes'){
				jQuery.ajax({
				url:'/skin/frontend/angara/default/staticdata/stonesize-round.html',
				success: function(matter){
						jQuery('#roundstonepopup').html(matter);
						jQuery('#roundstonepopup').data('loaded','yes');
						jQuery('.popupboxcross').click(function(){
							jQuery('.popupboxnew').hide().html('');
						})				
					}
				})
			//}
		})
		
			
		jQuery('.stonesize').click(function(){		
			jQuery('.popupboxnew').hide().html('');	
			jQuery('#ovalstonepopup').show();
			//if(jQuery('#ovalstonepopup').data('loaded')!='yes'){
				jQuery.ajax({
				url:'/skin/frontend/angara/default/staticdata/stonesize.html',
				success: function(matter){
						jQuery('#ovalstonepopup').html(matter);
						jQuery('#ovalstonepopup').data('loaded','yes');
						jQuery('.popupboxcross').click(function(){
							jQuery('.popupboxnew').hide().html('');
						})				
					}
				})
			//}
		})
		
		
		jQuery('.retailpricepopup').click(function(){		
			jQuery('.popupboxnew').hide().html('');	
			jQuery('#retailpricepopup').show();
			//if(jQuery('#retailpricepopup').data('loaded')!='yes'){
				jQuery.ajax({
				url:'/skin/frontend/angara/default/staticdata/retailprice.html',
				success: function(matter){
						jQuery('#retailpricepopup').html(matter);
						jQuery('#retailpricepopup').data('loaded','yes');
						jQuery('.popupboxcross').click(function(){
							jQuery('.popupboxnew').hide().html('');
						})				
					}
				})
			//}
		})
		
		
		jQuery('.internetjeweler').click(function(){
			jQuery('.popupboxnew').hide().html('');			
			jQuery('#internetjewelerpopup').show();
			//if(jQuery('#internetjewelerpopup').data('loaded')!='yes'){
				jQuery.ajax({
				url:'/skin/frontend/angara/default/staticdata/internetjeweler.html',
				success: function(matter){
						jQuery('#internetjewelerpopup').html(matter);
						jQuery('#internetjewelerpopup').data('loaded','yes');
						jQuery('.popupboxcross').click(function(){
							jQuery('.popupboxnew').hide().html('');
						})				
					}
				})
			//}
		})
		
		jQuery('.valuequality').click(function(){
			jQuery('.popupboxnew').hide().html('');
			jQuery('#valuequalitypopup').show();
			//if(jQuery('#valuequalitypopup').data('loaded')!='yes'){
				jQuery.ajax({
				url:'/skin/frontend/angara/default/staticdata/valuequality.html',
				success: function(matter){
						jQuery('#valuequalitypopup').html(matter);
						jQuery('#valuequalitypopup').data('loaded','yes');
						jQuery('.popupboxcross').click(function(){
							jQuery('.popupboxnew').hide().html('');
						})				
					}
				})
			//}
		})
		
			// open review tab when user clicks on .rating
  jQuery('#show-review-btn').click(function(){
   showDiveSection('product-review');
  })
		
	})
	
	
/* Start Ring Sizer */

	jQuery.fx.speeds._default = 100;
	jQuery(function() {
		jQuery( "#ringsizer-dialog" ).dialog({
			autoOpen: false,
			show: "blind",
			hide: "explode",			
			width:400,
			zIndex:11000,
			dialogClass:'ringsizerwrapper',
			minHeight:550
		});

		jQuery( "#ringsize-dialog-opener" ).click(function() {
			jQuery( "#ringsizer-dialog" ).dialog( "open" );
			jQuery('.ringsizerwrapper').show();
			jQuery('#detailsform').show();
			jQuery('#result_success').hide();
			jQuery('#result_fail').hide();
			//jQuery('#ringsizer-dialog').height(jQuery('#detailsform').height());
			if(jQuery( "#ringsizer-dialog" ).data('loaded')!== 'true'){
				jQuery( "#ringsizer-dialog" ).load('/popup/index/openringsizer',function(){					
					dataForm = new VarienForm('formringsizer', true);
					
					dataForm.validator.options.onFormValidate = function (result, form){
						//jQuery('#ringsizer-dialog').height(jQuery('#detailsform').height());
					}
					
						jQuery('#rs-Preferreddate').datepicker({minDate:0, maxDate:'+1M +10D'});
						
						jQuery("#rs-Preferredtime").focusin(function(){
							if(jQuery(this).val() == "e.g. 8:30 PM"){
								jQuery(this).val('');
							}
						})
						
						jQuery("#rs-Preferredtime").focusout(function(){
							if(jQuery(this).val() == ""){
								jQuery(this).val('e.g. 8:30 PM');
							}
						})
						
						//jQuery(function() {
							//jQuery( "#rs-Preferredtime" ).timespinner();
						//});
					
						jQuery('#formringsizer').submit(function(){
							//console.log(jQuery('#formringsizer').serialize());
							
							return submitRingSizer();
						});
					
				});
				jQuery( "#ringsizer-dialog" ).data('loaded','true');
				jQuery('#ringsizer-dialog').height(jQuery('#detailsform').height());
			}
			
			return false;
		});
	});
	
	function submitRingSizer(){
		if(dataForm.validator.validate()===true){
			jQuery('#LoadingImage').show();
			jQuery.post('/popup/index/requestringsizer',jQuery('#formringsizer').serialize(),function(res){					
				jQuery('#LoadingImage').hide();
				//alert(res);
				//console.log(res);
				jQuery('#rs-req-result').html(res);
				jQuery('#result_success').show();
				//jQuery('#ringsizer-dialog').height(jQuery('#detailsform').height());
			})
			//jQuery('#ringsizer-dialog').height(jQuery('#detailsform').height());
			return false;
		}
		//jQuery('#ringsizer-dialog').height(jQuery('#detailsform').height());
		return false;
	}

/* End Ring Sizer */
</script>

<form id='pdfform' action="<?php echo Mage::getBaseUrl();?>hprcv/Index/pdf" method="post" target="_blank">
  <input id="cert_image" type="hidden" name="cert_image" value="<?php echo $this->helper('catalog/image')->init($_product, 'image') ?>" />
  <input id="cert_id" type="hidden" name="cert_id" value="<?php echo $_product->getId()?>" />
  <input id="cert_quality" type="hidden" name="cert_quality" value="<?php echo ($_product->getEmbQualityGrade2())?$_product->getAttributeText('emb_quality_grade2'):''; ?>" />
  <input id="cert_metal" type="hidden" name="cert_metal" value="<?php echo ($_product->getMetal())?$_product->getAttributeText('metal'):''; ?>" />
  <input type="hidden" id='cert_sync_count' name="cert_sync_count" value="" />
  <input type="hidden" id='cert_sync_size' name="cert_sync_size" value="" />
  <input type="hidden" id='cert_sync_weight' name="cert_sync_weight" value="" />
</form>
<div id="messages_product_view"><?php echo $this->getMessagesBlock()->getGroupedHtml() ?></div>
<div class="wrapper">
  <div style="position:relative;" >
    <div id="overlayText"><?php echo $this->getChildHtml('upsell_products') ?></div>
    <div style="clear:both;"></div>
  </div>
  <div class="wrappermain">
    <div id="qualitypopup" class="popupboxnew"></div>
    <div id="roundstonepopup" class="popupboxnew"></div>
    <div id="ovalstonepopup" class="popupboxnew"></div>
    <div id="retailpricepopup" class="popupboxnew"></div>
    <div id="internetjewelerpopup" class="popupboxnew"></div>
    <div id="valuequalitypopup" class="popupboxnew"></div>
    <?php 
		//if(isset($_GET['videostage']) && !empty($_GET['videostage'])){	
			//if($_GET['videostage']=='1' || $_GET['videostage']=='2' || $_GET['videostage']=='3' || $_GET['videostage']=='4') {
				$newmediaval = $_helper->productAttribute($_product, $this->htmlEscape($_product->getNewmedia()), 'newmedia');	
				if($newmediaval!=''){	
					echo $this->getChildHtml('videoupload');
				}	
			//}
		//}	
		?>
    <form action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
      <div class="no-display">
        <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
        <input type="hidden" name="related_product" id="related-products-field" value="" />
        <input type="hidden" name="category" value = "<?php echo $tracCategory ?>"/>
      </div>
      <div class="ppmid">
        <div id="mid-part-left">
          <div id="wrapper" style="display:block;">
            <div id="fullsize"> <?php echo $this->getChildHtml('video') ?>
              <div class="product-img-box">
                <?php if($_product->getDiscountPrice() != ''):?>
                <div class="sale-tag"></div>
                <?php endif;?>
                <?php //	Code Added by Vaseem for Zoom
				$zoomEnable	=	Mage::helper('function')->imageZoomSku($_product->getSku());
				//echo 'sku->'.$_product->getSku();			echo 'zoomEnable->'.$zoomEnable; die;
				if($zoomEnable==1){
					echo $this->getLayout()->createBlock('catalog/product/view')->setProduct($_product)->setTemplate('catalog/product/view/media_zoom.phtml')->toHtml();
				}else{
					echo $this->getChildHtml('media');
				}	//	Code Added by Vaseem for Zoom
				?>
                <!--	Added by Vaseem on 10 Jan 2013 for packaging box task no 239	-->	
                <?php echo $this->getChildHtml('packaging');  ?>	
                <!--	Added by Vaseem on 10 Jan 2013 for packaging box task no 239	-->	
               </div>
              <div style="clear:both"></div>
            </div>
            <div style="clear:both"></div>
          </div>
          <div class="likeusbtn">
            <?php				   
				$pinUrl = Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_WEB).$_product->getUrlPath();
				$pinMediaUrl = Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA)."catalog/product".$_product->getImage();
				$productTinyURLTweet = Mage::getModel('hprcv/hprcv')->getShortPageURL($pinUrl.'?utm_source=Twitter&utm_medium=Website&utm_campaign=SOCIAL');
				$productTinyURLFacebook = Mage::getModel('hprcv/hprcv')->getShortPageURL($pinUrl.'?utm_source=Facebook&utm_medium=Website&utm_campaign=SOCIAL');
				$tweetUrl = 'https://twitter.com/intent/tweet?url='.$productTinyURL;
			?>
            <span class="emailtofriend"> <a href="<?php echo $this->helper('catalog/product')->getEmailToFriendUrl($_product) ?>" title="Send to a Friend" alt="Send to a Friend"></a> </span> <span class="communiteebtntwetter"> <a href="https://twitter.com/share" class="twitter-share-button" data-text="<?php echo $_product->getShortDescription(); ?>" data-url="<?php echo $productTinyURLTweet; ?>" data-lang="en" data-via="Angara.com" data-count="none" title="Tweet on Twitter">Tweet</a> 
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script> 
            </span> 
			<!--Started Modified by Pankaj regarding bug id:447-->
			<span class="communiteebtnpin" style="vertical-align:top;"><a href="/popup/index/productmedia/id/<?php echo $_product->getId(); ?>" class="iframe cboxElement pin-it-button" title="Pinit"><img border="0" src="http://assets.pinterest.com/images/PinExt.png" /></a></span> 
            <!--Ended Modified by Pankaj regarding bug id:447-->
            <span class="communiteebtnfb">
            <iframe src="//www.facebook.com/plugins/like.php?href=<?php echo $productTinyURLFacebook; ?>&amp;send=false&amp;layout=button_count&amp;width=90&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&amp;appId=198006716882309" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe>
            </span> <span class="opengrpah"><span id="sa-og" style="vertical-align:top"></span></span> </div>
        </div>
        <div id="mid-part-right">
          <div id="detailsection">
            <h1><?php echo $_helper->productAttribute($_product, $_product->getName(), 'name') ?></h1>
            <?php
						$pnameval = $_helper->productAttribute($_product, $_product->getName(), 'name');
						$chk_pname = stripos($pnameval, 'Pendant');
						if ($chk_pname !== false) {
							echo "<script>var ptype_pendant = 1;</script>";
						}else{
							echo "<script>var ptype_pendant = 0;</script>";
						}
						?>
            <div><?php echo $this->getReviewsSummaryHtml($_product, false, true)?> </div>
            <div class="spacing" style="padding-top:0px;display:none">
              <?php if ($_product->isSaleable() && $this->hasOptions()):?>
              <?php echo $this->getChildChildHtml('container2', '', true, true) ?>
              <div class="ringsizer"><a id="ring-size-guide" href="/skin/frontend/angara/default/PDF/AngaraRingSizer00.pdf">Ring Size Guide</a></div>
              <?php endif;?>
              <br clear="all" />
            </div>
            
            <!-- HPRAHI STARTS CODE -->
            <div > 
              <script type="text/javascript">
                        var arroptions = new Array();
                        <?php
                        $stonename='';
                        if($_product->getEmbStoneName2())
                            $stonename = strtolower($_product->getAttributeText('emb_stone_name2'));
                        else if($_product->getEmbStoneName3())
                            $stonename = strtolower($_product->getAttributeText('emb_stone_name3'));
                        else if($_product->getEmbStoneName())
                            $stonename = strtolower($_product->getAttributeText('emb_stone_name'));
                            
                            
                        foreach ($_product->getOptions() as $o) {
							
                            ?>
                            index1 = arroptions.length;
                            arroptions[index1] = new Array();
                            arroptions[index1][arroptions[index1].length] = "<?php echo $o->getType();?>";
                            arroptions[index1][arroptions[index1].length] = "<?php echo $o->getTitle();?>";
                            <?php
							if($o->getTitle() == 'VariationInfoToOrder')
							{
							?>
							arroptions[index1][arroptions[index1].length] = "<?php echo $o->getOptionId();?>";
							<?php
							}
                                $values = $o->getValues();
                            $ic =0;
                                foreach ($values as $v) {
                                    //var_dump($v);
                                if($ic==0)
                                {
                            ?>
                            arroptions[index1][arroptions[index1].length] = "<?php echo $v->getOptionId();?>";
                            <?php
                                    $ic = 1;
                                }
                            ?>
                            arroptions[index1][arroptions[index1].length] = "<?php echo $v->getOptionTypeId();?>";
                            arroptions[index1][arroptions[index1].length] = "<?php echo $v->getSku();?>";
                            arroptions[index1][arroptions[index1].length] = "<?php echo $v->getTitle();?>";
                            arroptions[index1][arroptions[index1].length] = "<?php echo $v->getPrice();?>";
                            arroptions[index1][arroptions[index1].length] = "<?php echo $v->getSortOrder();?>";
                            <?php	
                                        //var_dump($v->getData());
                                }
                            }
                        ?>
                        var curstone = '<?php echo $_product->getAttributeText('de_stone_type');?>';
                        var curmetal = '<?php echo $_product->getAttributeText('metal_type');?>';
						var cursku = '<?php echo $_product->getSku()?>';
						var curid = '<?php echo $_product->getId()?>';
						var curshape = '<?php echo $_product->getAttributeText('de_stone_shape');?>';
						var curstonesize = '';
						<?php if($_product->getEmbStoneName() || $_product->getEmbStoneName2() || $_product->getEmbStoneName3() ): 
							if($_product->getData('emb_dimension2')){
						?>
						curstonesize = 	'<?php echo $_product->getData('emb_dimension2')?>';
						<?php 		
							}
							else if($_product->getData('emb_dimension1')){
						?>
						curstonesize = 	'<?php echo $_product->getData('emb_dimension2')?>';
						<?php 		
							}
							endif;
						?>
                        </script>
              <div id="ringsizemaindiv" style="position:relative; padding-top:11px; border-top:1px solid #D3D3D3; margin-top:2px;">
                <div style='float:left;margin-top:0px !important' class="ringsize">
                  <label class="required">Ring Size: </label>
                </div>
                <div style="float:left;margin:-3px 0 6px 10px" id='ringsizediv'></div>
                <div class="clear"></div>
                <!--Started Modified by Pankaj regarding bug id:642-->	
                <span class="freeringsizer"><a id="ringsize-dialog-opener" href="#"><?php /*?>Get a FREE ring sizer shipped to your doorstep<?php */?></a></span>
                <!--Ended Modified by Pankaj regarding bug id:642-->	
                <div class="ringsizer"><a href="/skin/frontend/angara/default/PDF/AngaraRingSizer00.pdf" target="_blank">Ring Size Guide</a></div>
                <div id="ringsizer-dialog" title="Ring Sizer"></div>
              </div>
              <div id="stonesizemaindiv" style="margin-bottom:10px">
                <div class="small-title">Select: <strong style="color:#2b2b2b">Gemstone Size</strong></div>
                <div>
                  <div style="float:left" id="stonesizebox"></div>
                  <div class="qualitychartlink" id="sizechartupperlink"></div>
                  <div style="clear:both"></div>
                </div>
                <div type="best-qualitytype" class="qualitydescription selectgemsize" style="display: block;" id="gemstonesizedesc"> </div>
              </div>
              <div id="qualitymaindiv" style="margin-bottom:10px">
                <div class="small-title">Select: <strong style="color:#2b2b2b">Gemstone Quality</strong></div>
                <div>
                  <div class="qualitybox" id="qualitybox"></div>
                  <?php if(Mage::getModel('hprcv/hprcv')->qualitygradecomparison($_product->getAttributeText('de_stone_type'))){?>
                  <div onclick="qualitypopupclick('<?php echo $_product->getAttributeText('de_stone_type');?>','<?php echo $_product->getAttributeText('de_stone_shape');?>')" class="qualitypopupbtn qualitychartlink">View Quality Chart</div>
                  <?php }?>
                  <div style="clear:both"></div>
                </div>
                <div type="best-qualitytype" class="qualitydescription" style="display: block;" id="qualitydescription"> </div>
              </div>
              <div id="metaltypemaindiv" style="margin-bottom:10px">
                <div class="small-title">Select: <strong style="color:#2b2b2b">Metal Type</strong></div>
                <div class="" id="metaltypebox"></div>
                <div type="best-qualitytype" class="qualitydescription" style="display: block;" id="metaldescription"> </div>
              </div>
              <?php
						$productfactsval = $_helper->productAttribute($_product, $this->htmlEscape($_product->getProductfacts()), 'productfacts');	
						if($productfactsval!=''){
						?>
              <div class="small-title"><strong style="color:#000">Product Facts</strong></div>
              <div class="prodiscrip"><?php echo $productfactsval; ?></div>
              <?php	
						}
						?>
              <?php if ($_product->getDescription()): ?>
              <div class="small-title"><strong style="color:#000">About This Design</strong></div>
              <div class="prodiscrip"><?php echo $_product->getDescription() ?></div>
              <?php endif ?>
            </div>
            
            <!-- HPRAHI CODE ENDS --> 
            
          </div>
          <div id="pricesection"> <?php echo $this->getChildHtml('product_type_data') ?> <?php echo $this->getChildHtml('addtocart') ?> </div>
        </div>
        <div style="clear:both"></div>
      </div>
    </form>
    <script type="text/javascript">
    //<![CDATA[
		
		jQuery(function(){
			jQuery('#product_addtocart_form').submit(function(){
				if(typeof ClickTaleExec != 'undefined'){
					ClickTaleExec('productAddToCartForm.submit()');
				}
			})
		})
		
	
		function trackShoppingCart(res, form){
			if(res){
					_gaq.push(['_trackEvent', "<?php echo $tracCategory;?>", 'shoppingcart', "<?php echo $_product->getSku() ?>", undefined, true]);
				}
		}
		
        var productAddToCartForm = new VarienForm('product_addtocart_form');
		_gaq.push(['_trackEvent', "<?php echo $tracCategory;?>", 'productview', "<?php echo $_product->getSku() ?>", undefined, true]);
		var productAddToCartFormValidator = new Validation('product_addtocart_form', {onFormValidate: trackShoppingCart});
		
        productAddToCartForm.submit = function(button, url) {
			
            if (this.validator.validate()) {
                var form = this.form;
                var oldUrl = form.action;

                if (url) {
                   form.action = url;
                }
                var e = null;
                try {
                    this.form.submit();
                } catch (e) {
                }
                this.form.action = oldUrl;
                if (e) {
                    throw e;
                }

                if (button && button != 'undefined') {
                    button.disabled = true;
                }
            }
        }.bind(productAddToCartForm);

        productAddToCartForm.submitLight = function(button, url){
            if(this.validator) {
                var nv = Validation.methods;
                delete Validation.methods['required-entry'];
                delete Validation.methods['validate-one-required'];
                delete Validation.methods['validate-one-required-by-name'];
                if (this.validator.validate()) {
                    if (url) {
                        this.form.action = url;
                    }
                    this.form.submit();
                }
                Object.extend(Validation.methods, nv);
            }
        }.bind(productAddToCartForm);
    //]]>
</script>
    <div class="ppbottom">
      <div id="detailstab" style="display:block;">
        <ul>
          <li id="productdescription" class="activeted1"><a href="javascript:void(0);" onclick="showDiveSection('product-description');" onmouseover="showDiveSection('product-description');">Product Details</a></li>
          <?php if(trim( $this->getChildHtml('view_more_options')) != ''): ?>
          <li id="viewmoreoptions" class="alltab" style="display:none"><a href="javascript:void(0);" onclick="showDiveSection('more-options');" onmouseover="showDiveSection('more-options');">View More Options</a></li>
          <?php endif;?>
          <li id="shippingreturns" class="alltab"><a href="javascript:void(0);" onclick="showDiveSection('shipping-returns');" onmouseover="showDiveSection('shipping-returns');">Shipping &amp; Returns</a></li>
          <li id="angaradifference" class="difference"><a href="javascript:void(0);" onclick="showDiveSection('angara-difference');" onmouseover="showDiveSection('angara-difference');">The Angara Difference</a></li>
          <li id="productreview" class="alltab"><a href="javascript:void(0);" onclick="showDiveSection('product-review');" onmouseover="showDiveSection('product-review');">Product Reviews</a></li>          
        </ul>
      </div>
      <div class="productalldetail">
        <div id="product-description" class="descriptiontab" style="display: block; ">
          <div style="margin-bottom:25px;">
            <div class="heading2"><?php echo $_product->getShortDescription() ?> 
            <span class="writeareviewlink"  style="text-decoration:underline;font-size:12px;font-weight:normal;margin-left:10px; cursor:pointer;">Write a Review</span>
            </div>
            <div style="padding:10px 0 0 0; font-weight:bold; text-decoration:underline;"><a id="authenticity-cert" href='javascript:void(0)' onclick="document.getElementById('pdfform').submit()">View Certificate Of Authenticity<img src="/skin/frontend/angara/default/images/certificate.png" width="25" height="19"></a></div>
            <?php /*?><h1><?php echo $_helper->productAttribute($_product, $_product->getName(), 'name') ?></h1> <?php */?>
            <?php if(
						
							($_product->getAttributeText('emb_stone_name3')=="Diamond" || $_product->getAttributeText('emb_stone_name3') =='')
							&&
							($_product->getAttributeText('emb_stone_name2')=="Diamond" || $_product->getAttributeText('emb_stone_name2') =='')
							&&
							($_product->getAttributeText('emb_stone_name')=="Diamond" || $_product->getAttributeText('emb_stone_name') =='')) : ?>
            <div class="headingtag">
              <?php if ($_product->getDescription()): ?>
              <?php //echo $_product->getDescription() ?>
              <?php endif ?>
            </div>
            <?php endif?>
            <div style="clear:both"></div>
          </div>
          <div class="item-details-box-wrapper">
            <?php
					if($_product->getGemstoneCaratWeight()){
						$tmp_width = '290px';
					}else{
						$tmp_width = '180px';
					}                    
					?>
            <div id="details-heading-top" style="width:<?php echo $tmp_width?>;line-height:normal">
              <div class="detail-box-title">Product Details:</div>
              <div class="field">
                <div class="fieldtitle">Angara Item #:</div>
                <div class="fieldvalue"><?php echo $_helper->productAttribute($_product, $_product->getSku(), 'sku') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php if($_product->getPendantChainLength ()): ?>
              <div class="field">
                <div class="fieldtitle">Chain Length:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('pendant_chain_length') ?> inches</div>
                <div style="clear:both"></div>
              </div>
              <?php endif?>
              <?php if($_product->getMetal()): ?>
              <div class="field">
                <div class="fieldtitle">Metal:</div>
                <div class="fieldvalue" id="metal-desc"><?php echo $_product->getAttributeText('metal') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif?>
              <?php if($_product->getGemstoneType()): ?>
              <div class="field">
                <div class="fieldtitle">Gemstone Type:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('gemstone_type') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
							if($_product->getGemstoneShape ()): ?>
              <div class="field">
                <div class="fieldtitle">Gemstone Shape:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('gemstone_shape') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
                            if($_product->getGemstoneCaratWeight()): ?>
              <div class="field">
                <div class="fieldtitle">Approximate Carat Total Weight:</div>
                <div class="fieldvalue" id="Emb-weight"><?php echo $_product->getData('gemstone_carat_weight') ?> cts</div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
							if($_product->getGemstoneColor ()): ?>
              <div class="field">
                <div class="fieldtitle">Gemstone Color:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('gemstone_color') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
                            if($_product->getGemstoneClarity ()): ?>
              <div class="field">
                <div class="fieldtitle">Gemstone Clarity:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('gemstone_clarity') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
							if($_product->getGemstoneDimension()): ?>
              <div class="field">
                <div class="fieldtitle">Approximate Dimensions:</div>
                <div class="fieldvalue" id="Emb-size"><?php echo $_product->getData('gemstone_dimension') ?> mm</div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
							if($_product->getGemstoneBrilliance ()): ?>
              <div class="field">
                <div class="fieldtitle">Gemstone Brilliance:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('gemstone_brilliance') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif;
							if($_product->getGemstoneEnhancement ()): ?>
              <div class="field">
                <div class="fieldtitle">Gemstone Enhancement:</div>
                <div class="fieldvalue"><?php echo $_product->getAttributeText('gemstone_enhancement') ?></div>
                <div style="clear:both"></div>
              </div>
              <?php endif?>
              
              <!--<div class="field">
								<div class="fieldtitle">Purity:</div>
								<div class="fieldvalue">100% Natural</div>
                                 <div style="clear:both"></div>
							</div>--> 
            </div>
            <?php if($_product->getEmbStoneName() || $_product->getEmbStoneName2() || $_product->getEmbStoneName3() ): ?>
            <div class="stones-details-box">
              <?php if($_product->getEmbStoneName3()): ?>
              <div id="Emb3-stone-detail-box" class="stone-detail-box-odd">
                <div class="detail-box-title"><!-- 3 -->
                  <?php if($_product->getAttributeText('emb_stone_name3')=="Diamond" || $_product->getAttributeText('emb_stone_name3')=="Simulated Diamond"): ?>
                  Diamond
                  <?php else:?>
                  Gemstone
                  <?php endif?>
                  Information:</div>
                <?php if($_product->getEmbNumberOfStones3()): ?>
                <div class="field">
                  <div class="fieldtitle">Number of <?php echo $_product->getAttributeText('emb_shape3') ?>
                  <span id="Emb3-name"><?php 
					if($_product->getData('emb_number_of_stones3') > 1){						 
						if($_product->getAttributeText('emb_stone_name3')=="Ruby"){
							echo "Rubies";
						} elseif($_product->getAttributeText('emb_stone_name3')=="Lab Created Ruby"){
							echo "Lab Created Rubies";
						} else{
							echo $_product->getAttributeText('emb_stone_name3')."s";
						}
					}else{
						echo $_product->getAttributeText('emb_stone_name3');
					}
					?></span>:</div>
                  <div class="fieldvalue" id="Emb3-count"><?php echo $_product->getData('emb_number_of_stones3') ?></div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbDimension3()): ?>
                <div class="field">
                  <div class="fieldtitle"> Approximate Dimensions: </div>
                  <div class="fieldvalue" id="Emb3-size"><?php echo $_product->getData('emb_dimension3') ?> mm</div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbCaratWeight3()): ?>
                <div class="field">
                  <div class="fieldtitle">Approximate Carat Total Weight: </div>
                  <div class="fieldvalue" id="Emb3-weight"><?php echo $_product->getData('emb_carat_weight3') ?> cts</div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbQualityGrade3()): ?>
                <div class="field">
                  <div class="fieldtitle"> Quality Grade:
                    <?php
                                          	if(Mage::getModel('hprcv/hprcv')->qualitygradecomparison($_product->getAttributeText('emb_stone_name3'))){
										?>
                    <span onclick="qualitypopupclick('<?php echo $_product->getAttributeText('emb_stone_name3');?>','<?php echo $_product->getAttributeText('emb_shape3');?>')" class="popupicon qualitypopupbtn quality-popup-help"></span>
                    <?php }?>
                  </div>
                  <div class="fieldvalue" id="Emb3-grade" about="<?php echo strtolower($_product->getAttributeText('emb_stone_name3').  $_product->getAttributeText('emb_quality_grade3')) ?>"><?php echo $_product->getAttributeText('emb_quality_grade3') ?></div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
              </div>
              <?php endif;
                                
                                if($_product->getEmbStoneName2()): ?>
              <div id="Emb2-stone-detail-box" class="<?php echo ($_product->getEmbStoneName3())?'stone-detail-box':'stone-detail-box-odd'; ?>">
                <div class="detail-box-title"><!-- 2 -->
                  <?php if($_product->getAttributeText('emb_stone_name2')=="Diamond" || $_product->getAttributeText('emb_stone_name2')=="Simulated Diamond"): ?>
                  Diamond
                  <?php else:?>
                  Gemstone
                  <?php endif?>
                  Information:</div>
                <?php if($_product->getEmbNumberOfStones2()): ?>
                <div class="field">
                  <div class="fieldtitle">Number of <?php echo $_product->getAttributeText('emb_shape2') ?> 
                  <span id="Emb2-name"><?php 
					if($_product->getData('emb_number_of_stones2') > 1){
                    	if($_product->getAttributeText('emb_stone_name2')=="Ruby"){
							echo "Rubies";
						} elseif($_product->getAttributeText('emb_stone_name2')=="Lab Created Ruby"){
							echo "Lab Created Rubies";
						} else{
							echo $_product->getAttributeText('emb_stone_name2')."s";
						}
					}else{
						echo $_product->getAttributeText('emb_stone_name2');
					}
					?></span>:</div>
                  <div class="fieldvalue" id="Emb2-count"><?php echo $_product->getData('emb_number_of_stones2') ?></div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbDimension2()): ?>
                <div class="field">
                  <div class="fieldtitle"> Approximate Dimensions:
                    <?php
                                          	if(Mage::getModel('hprcv/hprcv')->qualitygradecomparison($_product->getAttributeText('emb_stone_name2'))){
										?>
                    <span class="approx-dim-help popupicon" onclick="weightpopupclick('<?php echo $_product->getAttributeText('emb_stone_name2');?>','<?php echo $_product->getAttributeText('emb_shape2');?>')"></span>
                    <?php }?>
                  </div>
                  <div class="fieldvalue" id="Emb2-size"><?php echo $_product->getData('emb_dimension2') ?> mm</div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbCaratWeight2()): ?>
                <div class="field">
                  <div class="fieldtitle">Approximate Carat Total Weight:
                    <?php
                                          	if(Mage::getModel('hprcv/hprcv')->qualitygradecomparison($_product->getAttributeText('emb_stone_name2'))){
										?>
                    <span class="app-ctw-help popupicon" onclick="weightpopupclick('<?php echo $_product->getAttributeText('emb_stone_name2');?>','<?php echo $_product->getAttributeText('emb_shape2');?>')"></span> 
                    <script>
									   		transferupWeightPopup('<?php echo $_product->getAttributeText('emb_stone_name2');?>','<?php echo $_product->getAttributeText('emb_shape2');?>');
									   </script>
                    <?php }?>
                  </div>
                  <div class="fieldvalue" id="Emb2-weight"><?php echo $_product->getData('emb_carat_weight2') ?> cts</div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbQualityGrade2()): ?>
                <div class="field">
                  <div class="fieldtitle"> Quality Grade:
                    <?php
                                          	if(Mage::getModel('hprcv/hprcv')->qualitygradecomparison($_product->getAttributeText('emb_stone_name2'))){
										?>
                    <span onclick="qualitypopupclick('<?php echo $_product->getAttributeText('emb_stone_name2');?>','<?php echo $_product->getAttributeText('emb_shape2');?>')" class="popupicon qualitypopupbtn quality-popup-help"></span>
                    <?php }?>
                  </div>
                  <div class="fieldvalue" id="Emb2-grade" about="<?php echo strtolower($_product->getAttributeText('emb_stone_name2').$_product->getAttributeText('emb_quality_grade2')) ?>">
                    <?php
										if($_product->getAttributeText('emb_quality_grade2')=='A' || $_product->getAttributeText('emb_quality_grade2')=='AA' || $_product->getAttributeText('emb_quality_grade2')=='AAA' || $_product->getAttributeText('emb_quality_grade2')=='AAAA'){
											echo 'Natural '.$_product->getAttributeText('emb_quality_grade2');
										}else{	
											echo $_product->getAttributeText('emb_quality_grade2');
										}
										?>
                  </div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
              </div>
              <?php endif;
                                
                                if($_product->getEmbStoneName()): ?>
              <?php 
                                $oddclass = ($_product->getEmbStoneName3())?'stone-detail-box-odd':(($_product->getEmbStoneName2())?'stone-detail-box':'stone-detail-box-odd'); ?>
              <?php if($_product->getEmbStoneName3()){
                                            echo '<div style="clear:both"></div>';
                                        }
                                ?>
              <div id="Emb1-stone-detail-box" class="<?php echo $oddclass; ?>">
                <div class="detail-box-title"><!-- 1 -->
                  <?php if($_product->getAttributeText('emb_stone_name')=="Diamond" || $_product->getAttributeText('emb_stone_name')=="Simulated Diamond"): ?>
                  Diamond
                  <?php else:?>
                  Gemstone
                  <?php endif?>
                  Information:</div>
                <?php if($_product->getEmbNumberOfStones1()): ?>
                <div class="field">
                  <div class="fieldtitle">Number of <?php echo $_product->getAttributeText('emb_shape1') ?> 
                  <span id="Emb1-name"><?php 
					if($_product->getData('emb_number_of_stones1') > 1){
                    	if($_product->getAttributeText('emb_stone_name')=="Ruby"){
							echo "Rubies";
						} elseif($_product->getAttributeText('emb_stone_name')=="Lab Created Ruby"){
							echo "Lab Created Rubies";
						} else{
							echo $_product->getAttributeText('emb_stone_name')."s";
						}
					}else{
						echo $_product->getAttributeText('emb_stone_name');
					}
					?></span>:<!--<span class="help-icon" about="<?php echo $_product->getAttributeText('emb_shape1') ?>"></span>--></div>
                  <div class="fieldvalue" id="Emb1-count"><?php echo $_product->getData('emb_number_of_stones1') ?></div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbDimension1()): ?>
                <div class="field">
                  <div class="fieldtitle"> Approximate Dimensions: </div>
                  <div class="fieldvalue" id="Emb1-size"><?php echo $_product->getData('emb_dimension1') ?> mm</div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbCaratWeight1()): ?>
                <div class="field">
                  <div class="fieldtitle">Approximate Carat Total Weight: </div>
                  <div class="fieldvalue" id="Emb1-weight"><?php echo $_product->getData('emb_carat_weight1') ?> cts</div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getAttributeText('emb_stone_name')=="Diamond" && !($_product->getEmbStoneName2())): ?>
                <?php if($_product->getEmbColor1()): ?>
                <div class="field">
                  <div class="fieldtitle">Min Color:</div>
                  <div class="fieldvalue"><?php echo $_product->getAttributeText('emb_color1') ?></div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php if($_product->getEmbClarity1()): ?>
                <div class="field">
                  <div class="fieldtitle">Min Clarity:</div>
                  <div class="fieldvalue"><?php echo $_product->getAttributeText('emb_clarity1') ?></div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
                <?php elseif($_product->getEmbQualityGrade1()): ?>
                <div class="field">
                  <div class="fieldtitle"> Quality Grade:
                    <?php
                                          	if(Mage::getModel('hprcv/hprcv')->qualitygradecomparison($_product->getAttributeText('emb_stone_name'))){
										?>
                    <span onclick="qualitypopupclick('<?php echo $_product->getAttributeText('emb_stone_name');?>','<?php echo $_product->getAttributeText('emb_shape1');?>')" class="popupicon qualitypopupbtn quality-popup-help"></span>
                    <?php }?>
                  </div>
                  <div class="fieldvalue" id="Emb1-grade" about="<?php echo strtolower($_product->getAttributeText('emb_stone_name').$_product->getAttributeText('emb_quality_grade1')) ?>">
                    <?php
										if($_product->getAttributeText('emb_quality_grade1')=='A' || $_product->getAttributeText('emb_quality_grade1')=='AA' || $_product->getAttributeText('emb_quality_grade1')=='AAA' || $_product->getAttributeText('emb_quality_grade1')=='AAAA'){
											echo 'Natural '.$_product->getAttributeText('emb_quality_grade1');
										}else{	
											echo $_product->getAttributeText('emb_quality_grade1');
										}
										?>
                  </div>
                  <div style="clear:both"></div>
                </div>
                <?php endif?>
              </div>
              <?php endif?>
            </div>
            <?php endif?>
          </div>
          <div id="help-icon-tooltip">
            <div id="help-content"></div>
          </div>
          <script type="text/javascript">
								jQuery(function(){
									
									
									// view new certificate
									function viewnewcert(product){
										//alert(product);
									}
									
									jQuery.getJSON('/skin/frontend/angara/default/staticdata/gemstones.json', function(gemstones) {
									
									jQuery('.help-icon, .help-text').each(function(){
										
										
												var about = jQuery(this).attr('about');
												var content = null;
												if(about == null){
													if(!jQuery(this).hasClass('help-text'))
														jQuery(this).hide(); // hide this useless !@#$ crap help icon 
												}else if(about == 'Oval'){
													content = gemstones.shapes.oval.description;
												}else if(about == 'Round'){ 
													content = gemstones.shapes.round.description;
												}else if(about == 'Pear'){
													content = gemstones.shapes.pear.description;
												}else if(about == 'Trillion'){
													content = gemstones.shapes.trillion.description;
												}else if(about == 'Marquise'){
													content = gemstones.shapes.marquise.description;
												}else if(about == 'Princess'){
													content = gemstones.shapes.princess.description;
												}else if(about == 'Emerald'){
													content = gemstones.shapes.emerald.description;
												}else if(about == 'Cushion'){
													content = gemstones.shapes.cushion.description;
												}else if(about == 'Emeraldcut'){
													content = gemstones.shapes.emeraldcut.description;
												}else if(about == 'Ascher'){
													content = gemstones.shapes.ascher.description;
												}else if(about == 'Heart'){
													content = gemstones.shapes.heart.description;
												}else if(about == 'Baguette'){
													content = gemstones.shapes.baguette.description;
												}else if(about == 'whitegold18k'){
													content = gemstones.metals.whitegold18k.description;
												}else if(about == 'yellowgold18k'){
													content = gemstones.metals.yellowgold18k.description;
												}else if(about == 'whitegold14k'){
													content = gemstones.metals.whitegold14k.description;
												}else if(about == 'yellowgold14k'){
													content = gemstones.metals.yellowgold14k.description;
												}else if(about == 'whitegold10k'){
													content = gemstones.metals.whitegold10k.description;
												}else if(about == 'silver'){
													content = gemstones.metals.silver.description;
												}else if(about == 'sterlingsilver'){
													content = gemstones.metals.sterlingsilver.description;
												}else if(about == 'sterlingsilver925'){
													content = gemstones.metals.sterlingsilver925.description;
												}else if(about == 'platinum'){
													content = gemstones.metals.platinum.description;
												}else if(about == 'emeralda'){
													content = gemstones.quality.emeralda.description;
												}else if(about == 'emeraldaa'){
													content = gemstones.quality.emeraldaa.description;
												}else if(about == 'emeraldaaa'){
													content = gemstones.quality.emeraldaaa.description;
												}else if(about == 'emeraldaaaa'){
													content = gemstones.quality.emeraldaaaa.description;
												}else if(about == 'rubya'){
													content = gemstones.quality.rubya.description;
												}else if(about == 'rubyaa'){
													content = gemstones.quality.rubyaa.description;
												}else if(about == 'rubyaaa'){
													content = gemstones.quality.rubyaaa.description;
												}else if(about == 'rubyaaaa'){
													content = gemstones.quality.rubyaaaa.description;
												}else if(about == 'sapphirea'){
													content = gemstones.quality.sapphirea.description;
												}else if(about == 'sapphireaa'){

													content = gemstones.quality.sapphireaa.description;
												}else if(about == 'sapphireaaa'){
													content = gemstones.quality.sapphireaaa.description;
												}else if(about == 'sapphireaaaa'){
													content = gemstones.quality.sapphireaaaa.description;
												}else if(about == 'tanzanitea'){
													content = gemstones.quality.tanzanitea.description;
												}else if(about == 'tanzaniteaa'){
													content = gemstones.quality.tanzaniteaa.description;
												}else if(about == 'tanzaniteaaa'){
													content = gemstones.quality.tanzaniteaaa.description;
												}else if(about == 'tanzaniteaaaa'){
													content = gemstones.quality.tanzaniteaaaa.description;
												}else if(about == 'diamonda'){
													content = gemstones.quality.diamonda.description;
												}else if(about == 'diamondaa'){
													content = gemstones.quality.diamondaa.description;
												}else if(about == 'diamondaaa'){
													content = gemstones.quality.diamondaaa.description;
												}else if(about == 'diamondaaaa'){
													content = gemstones.quality.diamondaaaa.description;
												}else if(about == 'amethysta'){
													content = gemstones.quality.amethysta.description;
												}else if(about == 'amethystaa'){
													content = gemstones.quality.amethystaa.description;
												}else if(about == 'amethystaaa'){
													content = gemstones.quality.amethystaaa.description;
												}else if(about == 'amethystaaaa'){
													content = gemstones.quality.amethystaaaa.description;
												}else if(about == 'opala'){
													content = gemstones.quality.opala.description;
												}else if(about == 'opalaa'){
													content = gemstones.quality.opalaa.description;
												}else if(about == 'opalaaa'){
													content = gemstones.quality.opalaaa.description;
												}else if(about == 'opalaaaa'){
													content = gemstones.quality.opalaaaa.description;
												}else if(about == 'garneta'){
													content = gemstones.quality.garneta.description;
												}else if(about == 'garnetaa'){
													content = gemstones.quality.garnetaa.description;
												}else if(about == 'garnetaaa'){
													content = gemstones.quality.garnetaaa.description;
												}else if(about == 'garnetaaaa'){
													content = gemstones.quality.garnetaaaa.description;
												}else if(about == 'aquamarinea'){
													content = gemstones.quality.aquamarinea.description;
												}else if(about == 'aquamarineaa'){
													content = gemstones.quality.aquamarineaa.description;
												}else if(about == 'aquamarineaaa'){
													content = gemstones.quality.aquamarineaaa.description;
												}else if(about == 'aquamarineaaaa'){
													content = gemstones.quality.aquamarineaaaa.description;
												}else if(about.indexOf('pearla',(about.length-6)) !=-1){
													content = gemstones.quality.pearla.description;
												}else if(about.indexOf('pearlaa',(about.length-7)) !=-1){
													content = gemstones.quality.pearlaa.description;
												}else if(about.indexOf('pearlaaa',(about.length-8)) !=-1){
													content = gemstones.quality.pearlaaa.description;
												}else if(about.indexOf('pearlaaaa',(about.length-9)) !=-1){
													content = gemstones.quality.pearlaaaa.description;
												}else if(about == 'peridota'){
													content = gemstones.quality.peridota.description;
												}else if(about == 'peridotaa'){
													content = gemstones.quality.peridotaa.description;
												}else if(about == 'peridotaaa'){
													content = gemstones.quality.peridotaaa.description;
												}else if(about == 'peridotaaaa'){
													content = gemstones.quality.peridotaaaa.description;
												}else if(about == 'citrinea'){
													content = gemstones.quality.citrinea.description;
												}else if(about == 'citrineaa'){
													content = gemstones.quality.citrineaa.description;
												}else if(about == 'citrineaaa'){
													content = gemstones.quality.citrineaaa.description;
												}else if(about == 'citrineaaaa'){
													content = gemstones.quality.citrineaaaa.description;

												}
												else{
													if(!jQuery(this).hasClass('help-text'))
														jQuery(this).hide(); // hide this useless !@#$ crap help icon 
												}
												
												jQuery(this).data('content',content);

									})
									
									
										//alert(gemstones.shapes)
										//alert(gemstones.shapes.oval.description)
										jQuery('.help-icon').click(
											function(e){
												e.stopPropagation();
												
												content = jQuery(this).data('content');
												
												jQuery('#help-icon-tooltip').find('#help-content').html(content);
												jQuery(this).append(jQuery('#help-icon-tooltip').fadeIn())
											}
										)
										
										jQuery('.help-text').hover(
											function(e){
												content = jQuery(this).data('content');
												if(jQuery.trim(content)!=''){
													jQuery('#help-icon-tooltip').find('#help-content').html(content);
													jQuery(this).append(jQuery('#help-icon-tooltip').show())
												}
											},
											function(){
												jQuery('#help-icon-tooltip').hide();
											}
										)
									})
									
									jQuery('body').click(function(){
										jQuery('#help-icon-tooltip').fadeOut();
									})
								})
							</script>
          <div style="clear:both"></div>
        </div>
        <?php if(trim( $this->getChildHtml('view_more_options')) != ''): ?>
        <div id="more-options" class="descriptiontab" style="display: none;"> 
          <!-- Put needed Upsell products here  --> 
          <?php echo $this->getChildHtml('view_more_options');?>
          <div style="clear:both"></div>
        </div>
        <?php endif; ?>
        <script>
						<?php 
						if($_GET['metal']){
						?>
						changeOptions('metaltype','<?php echo $_GET['metal']?>');
						<?php 
						}
						if($_GET['grade']){
						?>
						changeOptions('quality','<?php echo $_GET['grade']?>');
						<?php 
						}
						?>
					</script> 
        <script>
                        ringsizetransfer();
                        cj_generatehtml();
                        </script>
        <div id="shipping-returns" class="producttxtlink" style="display: none; ">
          <div class="headingtag"><b>Return Policy:</b></div>
          <?php /*Start Request Shipping Label by Pankaj regarding bug id:774*/?>
          <div id="requestlabel-dialog" title="Request For Return Shipping Label"></div>
        If you are not 100% satisfied with your purchase, you can return it for a full refund within 30 days of the purchase date. Returns must be unworn and in the state that you received them.<br><br>
          We offer FREE return shipping for US domestic orders. To request a return shipping label for your purchase, simply submit a form by <a id="returnshipping-dialog-opener" href="#" style="text-decoration:underline;">clicking here</a>. International customers will need to pay for return shipping. Returns may take up to 1 week to process.<br><br>
           For international returns, return shipping and insurance are the responsibility of the customer.<br><br>
          <?php /*End Request Shipping Label by Pankaj regarding bug id:774*/?>
          <div class="headingtag"><b>Shipping Policy:</b></div>
          We ship FREE to over 60 countries - We offer FREE FedEx Ground shipping within the USA and FedEx International Shipping worldwide at no cost. Upgraded shipping options are available at Checkout for nominal fees. If you need the item to be shipped faster than the shipping date indicated above, please call 888 926 4272 to speak to one of our Angara Advisors or click <a href="https://server.iad.liveperson.net/hc/609151/?cmd=file&amp;file=visitorWantsToChat&amp;site=609151&amp;byhref=1&amp;imageUrl=https://server.iad.liveperson.nethttp://www.angara.com/store/images/lp/">Live Chat</a>. A tracking number will be sent to your email upon shipment. </div>
        <div id="angara-difference" class="producttxtlink" style="display: none;">
          <div class="headingtag"><b>The Internet's Family Jeweler:</b></div>
          We live and breathe gemstones and fine jewelry.  We are family owned and have been in the gemstone business for 3 generations.  As with a traditional family jeweler experience, we will work with you to find or create the jewelry piece of your dreams.  If you cannot find  the gemstone or fine jewelry piece that you are looking for on the website, simply call us at 888 926 4272 and our team will find or create your piece.  If we can't source it, it probably doesn't exist. <span class="internetjeweler" style="cursor:pointer; text-decoration:underline;">Our Customers Say It Best</span> <br>
          <br>
          <div class="headingtag"><b>Direct From The Source:</b></div>
          With manufacturing and sourcing offices in  Jaipur, India (commonly known as the World's Gemstone Capital),  Thailand (where the majority of the world's rubies and sapphires are cut and polished), and the USA, we are able to source the best quality gemstones directly from the mines and manufacturers.  Further, we manufacture the large majority of our gemstone jewelry - thus, we cut out all middlemen and are able to offer unparalleled prices. Independent surveys have verified that our jewelry prices are approximately 40% lower than those of our competition. <br>
          <br>
          <div class="headingtag"><b>Exceptional Value And Quality, Guaranteed By A 110% Refund Policy:</b></div>
          We guarantee exceptional value and quality.  We will refund 110% of the purchase price (up to an additional $250 refund) if any accredited jewelry appraiser values the piece for less than 125% of the purchase price or writes that the craftsmanship is not of exceptional quality.
          <?php if(strtolower($_product->getAttributeText('emb_stone_name3'))=="blue sapphire" || strtolower($_product->getAttributeText('emb_stone_name2'))=="blue sapphire" || strtolower($_product->getAttributeText('emb_stone_name'))=="blue sapphire"): ?>
          <span class="valuequality" style="cursor:pointer; text-decoration:underline;">Our Customers Say It Best</span>
          <?php endif; ?>
          <br>
          <br>
          <div class="headingtag"><b>30 Day Money Back Guarantee:</b></div>
          If you don't love it, simply send it back in its original condition for a full refund. Return shipping is FREE.
          <br><br>
          <div class="headingtag"><b>Higher Quality:</b></div>
          Our jewelry is meant to last for generations.  The focus is on maximizing beauty rather than on saving gold or gemstone weight by reducing quality.  While our competitors have reduced weight to 2-3 grams for most products as gold costs have gone up, our average product weight remains at 3-5 grams.  Even if this philosophy and commitment to fine jewelry costs us more, we believe that the customer will be much happier as a result. <br>
          <br>
        </div>
        <div id="product-review" style="display: none;">
          <div class="customer-review">
            <div><?php echo $this->getChildHtml('reviews') ?></div>
            <div style="clear:both"></div>
          </div>
        </div>        
      </div>
        <?php /*?><div id="product-recentlyviewed" style="height:320px;">
        	<?php echo $this->getLayout()->createBlock('recentlyviewed/view')->setTemplate('recentlyviewed/product-view.phtml')->toHTML(); ?>  
        </div><?php */?>
    </div>
  </div>
</div>
<script>
	/*
	window.fbAsyncInit = function() {
	FB.init({appId: '110960095676478', status: true, cookie: true, xfbml: true});};
	(function() {
		var e = document.createElement('script');
		e.type = 'text/javascript';
		e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
		e.async = true;
	document.getElementById('fb-root').appendChild(e);
	}());
	*/
</script>
<link rel="stylesheet" href="/skin/frontend/angara/default/css/colorbox.css" />
<script src="/skin/frontend/angara/default/js/jquery.colorbox.js"></script> 
<script>
	jQuery(document).ready(function($){		
		jQuery(".iframe").colorbox({iframe:true, width:"75%", height:"80%"});
		//Example of preserving a JavaScript event for inline calls.
		jQuery("#click").click(function(){ 
			jQuery('#click').css({"background-color":"#f00", "color":"#fff", "cursor":"inherit"}).text("Open this window again and this message will still be here.");
			return false;
		});
	});
</script> 
<script language="javascript">
	jQuery(function(){
		if(typeof(s)!='undefined')
			s.t();
		
		<?php if(isset($_REQUEST['videoplay']) && !empty($_REQUEST['videoplay'])){ ?>	
			jQuery('#playvideoicon').trigger('click');	
		<?php } ?>	
	})	
</script>
<!--Started Modified by Pankaj regarding bug id:447-->
<?php /*?><script type="text/javascript" src="/skin/frontend/angara/default/js/pinmarklet.js"></script><?php */?>
<script type="text/javascript" src="/skin/frontend/angara/default/js/pinit.js"></script>
<?php /*?><script type="text/javascript" src="http://assets.pinterest.com/js/pinit.js"></script><?php */?>
<!--Ended Modified by Pankaj regarding bug id:447-->
            